<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>PixelPalette</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script> <!-- for icons -->
</head>
<body>
  <main>
    <div class="header">
      <h1>Pixel Palette</h1>
      <p>Upload an image to extract its main color palette.</p>
    </div>

    <div class="upload-section">
    <label for="imageUpload" class="upload-label">
        <i class="fas fa-upload"></i>
        Upload Image
    </label>

    <input type="file" id="imageUpload" accept="image/*">

    <div class="preview-wrapper hidden" id="previewWrapper">
        <img id="preview" src="" alt="Image Preview" class="preview">
    </div>
    </div>

    <div class="controls">
        <label for="colorCount">Number of Colors:</label>
        <input type="range" id="colorCount" min="1" max="6" value="4">
        <span id="colorValue"></span>
    </div>

    <div class="palette-section hidden" id="paletteSection">
      <h2>Extracted Palette</h2>
      <div class="palette-strip" id="paletteStrip">
        <!-- dynamically added color blocks here -->
      </div>
      <div class="palette-actions">
        <button id="downloadCSS" title="Download CSS codes">
          <i class="fas fa-file-code"></i> Download CSS
        </button>
        <button id="downloadImage" title="Download palette image">
          <i class="fas fa-image"></i> Download Palette
        </button>
      </div>
    </div>
  </main>

  <script>
    // Image Preview
    document.getElementById("imageUpload").addEventListener("change", function () {
    const file = this.files[0];
    if (!file) return;

    const preview = document.getElementById("preview");
    const wrapper = document.getElementById("previewWrapper");

    preview.src = URL.createObjectURL(file);
    wrapper.classList.remove("hidden");
    });

    // Color Slider
    const colorCount = document.getElementById("colorCount");
    const colorValue = document.getElementById("colorValue");
    
    colorCount.addEventListener("input", () => {
        colorValue.textContent = colorCount.value;
    });
  </script>

</body>
</html>
